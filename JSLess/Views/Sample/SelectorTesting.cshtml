@using JSLess
@{
    ViewBag.Title = "SelectorTesting";
    Guid widgetID = Guid.NewGuid();
}
<!DOCTYPE html>
<html xmlns="http=//www.w3.org/1999/xhtml">
    <head>
        <title></title>
        <script src="/Scripts/jquery-1.8.3.min.js"></script>
        <script src="/Scripts/jsless-core.js"></script>
        <script src="/Scripts/jsless-invoke.js"></script>
        <script src="/Scripts/jsless-methods.js"></script>
        <script src="/Scripts/jsless-behaviors.js"></script>
    </head>

    <body>


<h2>SelectorTesting</h2>

<div data-jsless-widget="@widgetID" >


    @if(true)
    {
    <div>    <input 
            type="button" 
            value="update 1"
            data-jsless="@( new object[] { new { 
                     name = "html", 
                     url = "/Sample/SimplePartial", 
                     onSuccess = ".pass .one", 
                     onFail = ".fail", 
                     @params = new { 
                         foo = 1 
                         } 
                 } }.ToJsonObject())"/>
    <input 
            type="button" 
            value="update 2"
            data-jsless="@( new object[] { new { 
                     name = "html", 
                     url = "/Sample/SimplePartial", 
                     onSuccess = ".pass .two", 
                     onFail = ".fail", 
                     @params = new { 
                         foo = 1 
                         } 
                 } }.ToJsonObject())"/>
    <input 
            type="button" 
            value="update all"
            data-jsless="@( new object[] { new { 
                     name = "html", 
                     url = "/Sample/SimplePartial", 
                     onSuccess = ".pass > div", 
                     onFail = ".fail", 
                     @params = new { 
                         foo = 1 
                         } 
                 } }.ToJsonObject())"/>
</div>
    }


    <div>

    <input 
        type="button" 
        value="append to zone 1"
        data-jsless="@( new object[] { new { 
                     name = "html", 
                     url = "/Sample/SimplePartial", 
                     onSuccess = new { 
                         target=".pass .one", 
                         scope="body",
                         mode="append"}, 
                     onFail = ".nestedFail", 
                     @params = new { 
                         test = 1} 
                 } }.ToJsonObject())"/>



    </div>
<div class="pass">
    pass zone 1 below
    <div class="one">
        pass 1
    </div>
    pass zone 2 below
    <div class="two">
        pass 2
    </div>
    fail zone below
    <div class="fail">
        fail 
    </div>
</div>
</div>



<script type="text/javascript">
    $(document).ready(function () {
        $("body").jsless();
    });
</script>
    </body>
</html>
